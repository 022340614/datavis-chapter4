<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>GitHub Pages æ·±åº¦è¯Šæ–­å·¥å…·</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; }
        .test { background: #f8f9fa; padding: 15px; margin: 10px 0; border-radius: 5px; }
        .success { border-left: 5px solid #28a745; }
        .error { border-left: 5px solid #dc3545; }
        .warning { border-left: 5px solid #ffc107; }
        .info { border-left: 5px solid #17a2b8; }
    </style>
</head>
<body>
    <h1>GitHub Pages æ·±åº¦è¯Šæ–­å·¥å…·</h1>
    
    <div class="test info">
        <h3>ğŸ” å½“å‰ç¯å¢ƒä¿¡æ¯</h3>
        <p><strong>å½“å‰URL:</strong> <span id="current-url"></span></p>
        <p><strong>é¢„æœŸURL:</strong> https://022340614.github.io/datavis-chapter4/</p>
        <p><strong>ä»“åº“åç§°:</strong> datavis-chapter4</p>
        <p><strong>ç”¨æˆ·å:</strong> 022340614</p>
    </div>

    <div class="test" id="url-analysis">
        <h3>ğŸŒ URLè·¯å¾„åˆ†æ</h3>
        <p>æ­£åœ¨åˆ†æURLåŒ¹é…æƒ…å†µ...</p>
    </div>

    <div class="test" id="github-config">
        <h3>âš™ï¸ GitHubé…ç½®æ£€æŸ¥</h3>
        <p>æ­£åœ¨æ£€æŸ¥GitHub Pagesè®¾ç½®...</p>
    </div>

    <div class="test" id="file-structure">
        <h3>ğŸ“ æ–‡ä»¶ç»“æ„éªŒè¯</h3>
        <p>æ­£åœ¨éªŒè¯å¿…éœ€æ–‡ä»¶...</p>
    </div>

    <div class="test" id="network-test">
        <h3>ğŸŒ ç½‘ç»œè¿æ¥æµ‹è¯•</h3>
        <p>æ­£åœ¨æµ‹è¯•å¤–éƒ¨èµ„æºåŠ è½½...</p>
    </div>

    <div class="test warning">
        <h3>ğŸ”§ é—®é¢˜è¯Šæ–­ç»“æœ</h3>
        <div id="diagnosis-result">åˆ†æä¸­...</div>
    </div>

    <div class="test success">
        <h3>âœ… è§£å†³æ–¹æ¡ˆ</h3>
        <ol>
            <li><strong>æ£€æŸ¥GitHubä»“åº“Settings > Pages</strong> - ç¡®è®¤ç»¿è‰²å‹¾é€‰æ ‡è®°</li>
            <li><strong>éªŒè¯ä»“åº“åç§°</strong> - å¿…é¡»æ˜¯"datavis-chapter4"ï¼ˆç²¾ç¡®åŒ¹é…ï¼‰</li>
            <li><strong>æ£€æŸ¥åˆ†æ”¯è®¾ç½®</strong> - å¿…é¡»æ˜¯mainåˆ†æ”¯ï¼Œæ ¹ç›®å½•</li>
            <li><strong>ç­‰å¾…æ„å»ºå®Œæˆ</strong> - é¦–æ¬¡éƒ¨ç½²éœ€è¦5-30åˆ†é’Ÿ</li>
            <li><strong>æ¸…é™¤æµè§ˆå™¨ç¼“å­˜</strong> - ä½¿ç”¨æ— ç—•æ¨¡å¼æµ‹è¯•</li>
        </ol>
    </div>

    <script>
        // å½“å‰URLåˆ†æ
        const currentUrl = window.location.href;
        document.getElementById('current-url').textContent = currentUrl;
        
        // URLè·¯å¾„åˆ†æ
        const urlAnalysis = document.getElementById('url-analysis');
        const expectedBase = 'https://022340614.github.io/datavis-chapter4/';
        
        if (currentUrl.startsWith(expectedBase)) {
            urlAnalysis.innerHTML = '<h3>ğŸŒ URLè·¯å¾„åˆ†æ</h3><p>âœ… URLåŸºç¡€è·¯å¾„åŒ¹é…æ­£ç¡®</p>';
            urlAnalysis.className = 'test success';
        } else {
            urlAnalysis.innerHTML = `<h3>ğŸŒ URLè·¯å¾„åˆ†æ</h3>
                <p>âŒ URLè·¯å¾„ä¸åŒ¹é…</p>
                <p>å½“å‰: ${currentUrl}</p>
                <p>é¢„æœŸ: ${expectedBase}</p>`;
            urlAnalysis.className = 'test error';
        }
        
        // GitHubé…ç½®æ£€æŸ¥
        const githubConfig = document.getElementById('github-config');
        setTimeout(() => {
            githubConfig.innerHTML = `<h3>âš™ï¸ GitHubé…ç½®æ£€æŸ¥</h3>
                <p>ğŸ“‹ è¯·åœ¨GitHubä»“åº“ä¸­æ£€æŸ¥ï¼š</p>
                <ul>
                    <li>Settings > Pages æ˜¾ç¤ºç»¿è‰²å‹¾é€‰æ ‡è®°</li>
                    <li>åˆ†æ”¯è®¾ç½®ä¸º main</li>
                    <li>æ–‡ä»¶å¤¹è®¾ç½®ä¸º / (root)</li>
                    <li>ä»“åº“åç§°ä¸º datavis-chapter4</li>
                    <li>ä»“åº“å¯è§æ€§ä¸º Public</li>
                </ul>`;
        }, 1000);
        
        // æ–‡ä»¶ç»“æ„éªŒè¯
        const files = ['index.html', 'styles.css', 'script.js', '.nojekyll', 'version.txt'];
        const fileTest = document.getElementById('file-structure');
        let fileHtml = '<h3>ğŸ“ æ–‡ä»¶ç»“æ„éªŒè¯</h3>';
        
        files.forEach(file => {
            fetch(file)
                .then(response => {
                    if (response.ok) {
                        fileHtml += `<p>âœ… ${file} - å¯è®¿é—®</p>`;
                    } else {
                        fileHtml += `<p>âŒ ${file} - æ— æ³•è®¿é—® (${response.status})</p>`;
                    }
                    fileTest.innerHTML = fileHtml;
                })
                .catch(error => {
                    fileHtml += `<p>âŒ ${file} - ç½‘ç»œé”™è¯¯</p>`;
                    fileTest.innerHTML = fileHtml;
                });
        });
        
        // ç½‘ç»œè¿æ¥æµ‹è¯•
        const networkTest = document.getElementById('network-test');
        const cdns = [
            'https://cdn.jsdelivr.net/npm/chart.js',
            'https://cdn.jsdelivr.net/npm/plotly.js-dist'
        ];
        
        cdns.forEach(url => {
            const script = document.createElement('script');
            script.src = url;
            script.onload = () => {
                networkTest.innerHTML += `<p>âœ… ${url} - CDNå¯è®¿é—®</p>`;
            };
            script.onerror = () => {
                networkTest.innerHTML += `<p>âŒ ${url} - CDNæ— æ³•è®¿é—®</p>`;
            };
            document.head.appendChild(script);
        });
        
        // è¯Šæ–­ç»“æœ
        setTimeout(() => {
            const diagnosis = document.getElementById('diagnosis-result');
            if (currentUrl.startsWith(expectedBase)) {
                diagnosis.innerHTML = '<p>âœ… URLé…ç½®æ­£ç¡®ï¼Œé—®é¢˜å¯èƒ½åœ¨GitHub Pagesæ„å»ºæˆ–ç¼“å­˜</p>';
            } else {
                diagnosis.innerHTML = '<p>âŒ URLè·¯å¾„ä¸åŒ¹é…ï¼Œè¯·æ£€æŸ¥ä»“åº“åç§°å’Œè®¿é—®åœ°å€</p>';
            }
        }, 2000);
    </script>
</body>
</html>